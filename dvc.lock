schema: '2.0'
stages:
  data_load:
    cmd: python src/stages/data_load.py --config=config/params.yaml
    deps:
    - path: src/stages/data_load.py
      hash: md5
      md5: 964dd4a06cbee5e12b75d04a25dce043
      size: 808
    params:
      config/params.yaml:
        base:
          root: C:\Users\beatriz.maia\Documents\studies\course-ds-base
        data:
          raw_csv: data/raw/iris.csv
          features_csv: data/processed/featured_iris.csv
          classes:
          - setosa
          - versicolor
          - virginica
    outs:
    - path: data/raw/iris.csv
      hash: md5
      md5: 10f5f61b137fa708403ea5c480386bfe
      size: 2908
  featurize:
    cmd: python src/stages/feature.py --config=config/params.yaml
    deps:
    - path: data/raw/iris.csv
      hash: md5
      md5: 10f5f61b137fa708403ea5c480386bfe
      size: 2908
    - path: src/stages/feature.py
      hash: md5
      md5: 97b208fc07e88061f3f25ad283d419d7
      size: 1123
    params:
      config/params.yaml:
        base:
          root: C:\Users\beatriz.maia\Documents\studies\course-ds-base
        data:
          raw_csv: data/raw/iris.csv
          features_csv: data/processed/featured_iris.csv
          classes:
          - setosa
          - versicolor
          - virginica
    outs:
    - path: data/processed/featured_iris.csv
      hash: md5
      md5: e3623a87a01908f403ea7e6260094f57
      size: 7411
  split:
    cmd: python src/stages/data_split.py --config=config/params.yaml
    deps:
    - path: data/processed/featured_iris.csv
      hash: md5
      md5: e3623a87a01908f403ea7e6260094f57
      size: 7411
    - path: src/stages/data_split.py
      hash: md5
      md5: d3223c5399cd40dda545274b2b42a034
      size: 1220
    params:
      config/params.yaml:
        base:
          root: C:\Users\beatriz.maia\Documents\studies\course-ds-base
        data:
          raw_csv: data/raw/iris.csv
          features_csv: data/processed/featured_iris.csv
          classes:
          - setosa
          - versicolor
          - virginica
        data_split:
          random_state: 42
          test_size: 0.2
          trainset_path: data/processed/train_iris.csv
          testset_path: data/processed/test_iris.csv
    outs:
    - path: data/processed/test_iris.csv
      hash: md5
      md5: 23e16aacc2ae84cb295cef5f50cff5cd
      size: 1624
    - path: data/processed/train_iris.csv
      hash: md5
      md5: 32c2b27da8e28386b7581be76b9788d2
      size: 6236
  train:
    cmd: python src/stages/train.py --config=config/params.yaml
    deps:
    - path: data/processed/train_iris.csv
      hash: md5
      md5: 32c2b27da8e28386b7581be76b9788d2
      size: 6236
    - path: src/stages/train.py
      hash: md5
      md5: 66e74c06532ebb678663c12822dff136
      size: 1405
    params:
      config/params.yaml:
        base:
          root: C:\Users\beatriz.maia\Documents\studies\course-ds-base
        data_split:
          random_state: 42
          test_size: 0.2
          trainset_path: data/processed/train_iris.csv
          testset_path: data/processed/test_iris.csv
        train:
          estimator_name: logreg
          C: 0.001
          max_iter: 100
          solver: lbfgs
          multi_class: multinomial
          model_path: models/model.joblib
    outs:
    - path: models/model.joblib
      hash: md5
      md5: e0168be49c8c1c39ed43068c8b1454e2
      size: 1023
  evaluate:
    cmd: python -m src.stages.evaluate --config=config/params.yaml
    deps:
    - path: data/processed/test_iris.csv
      hash: md5
      md5: 23e16aacc2ae84cb295cef5f50cff5cd
      size: 1624
    - path: models/model.joblib
      hash: md5
      md5: e0168be49c8c1c39ed43068c8b1454e2
      size: 1023
    - path: src/report/visualize.py
      hash: md5
      md5: d006d69efb78d41f59bd926984f1672c
      size: 2860
    - path: src/stages/evaluate.py
      hash: md5
      md5: 616198bcec4b9072cfd8f16087d6079c
      size: 1694
    params:
      config/params.yaml:
        base:
          root: C:\Users\beatriz.maia\Documents\studies\course-ds-base
        data:
          raw_csv: data/raw/iris.csv
          features_csv: data/processed/featured_iris.csv
          classes:
          - setosa
          - versicolor
          - virginica
        data_split:
          random_state: 42
          test_size: 0.2
          trainset_path: data/processed/train_iris.csv
          testset_path: data/processed/test_iris.csv
        reports:
          cm_path: reports/confusion_matrix.png
          metrics_path: reports/metrics.json
    outs:
    - path: reports/confusion_matrix.png
      hash: md5
      md5: c31cba0d12d20d65f918add340f255d3
      size: 24920
    - path: reports/metrics.json
      hash: md5
      md5: 1544e98811fb0946ea6cccbfcf4cbeb4
      size: 19
